<div class="container">
  <form
    class="col-md-6 bg-white w-100"
    [formGroup]="BookingForm"
    (ngSubmit)="BookSubmitted()"
  >
    <div class="text-center">
      <h2 class="text-center">Check Availability</h2>
      <ngb-datepicker
        #dp
        (dateSelect)="onDateSelection($event)"
        [displayMonths]="2"
        [dayTemplate]="t"
        outsideDays="hidden"
        [markDisabled]="isDisabled"
      ></ngb-datepicker>

      <ng-template #t let-date let-focused="focused">
        <span
          class="custom-day"
          [class.focused]="focused"
          [class.range]="isRange(date)"
          [class.faded]="isHovered(date) || isInside(date)"
          (mouseenter)="hoveredDate = date"
          (mouseleave)="hoveredDate = null" 
        >
          {{ date.day }}
        </span>
      </ng-template>
    </div>
    <label for="fullName" class="form-label">Full Name</label>
    <input
      type="text"
      [ngClass]="{
        'is-valid':
          BookingForm.controls['name'].touched &&
          !BookingForm.controls['name'].invalid,
        'is-invalid':
          BookingForm.controls['name'].touched &&
          BookingForm.controls['name'].invalid
      }"
      class="form-control"
      id="fullName"
      name="fullName"
      placeholder="your full name"
      formControlName="name"
    />

    <div
      class="valid-feedback"
      *ngIf="
        BookingForm.controls['name'].touched &&
        !BookingForm.controls['name'].invalid
      "
    >
      Looks good!
    </div>
    <div
      class="invalid-feedback"
      *ngIf="
        BookingForm.controls['name'].touched &&
        BookingForm.controls['name'].invalid
      "
    >
      <small *ngIf="BookingForm.controls['name'].errors?.['required']">
        full name is required
      </small>
      <small *ngIf="BookingForm.controls['name'].errors?.['minlength']">
        full name must be more than 3 characters
      </small>
      <small *ngIf="BookingForm.controls['name'].errors?.['pattern']">
        only letters and spaces are allowed
      </small>
    </div>
    <label for="phone" class="form-label mt-3">phone</label>
    <input
      type="text"
      [ngClass]="{
        'is-valid':
          BookingForm.controls['phone'].touched &&
          !BookingForm.controls['phone'].invalid,
        'is-invalid':
          BookingForm.controls['phone'].touched &&
          BookingForm.controls['phone'].invalid
      }"
      class="form-control"
      id="phone"
      name="phone"
      placeholder="enter your phone number"
      formControlName="phone"
    />

    <div
      class="valid-feedback"
      *ngIf="
        BookingForm.controls['phone'].touched &&
        !BookingForm.controls['phone'].invalid
      "
    >
      Looks good!
    </div>
    <div
      class="invalid-feedback"
      *ngIf="
        BookingForm.controls['phone'].touched &&
        BookingForm.controls['phone'].invalid
      "
    >
      <small *ngIf="BookingForm.controls['phone'].errors?.['required']">
        phone is required
      </small>
         <small *ngIf="BookingForm.controls['phone'].errors?.['pattern']">
invalid phone number      </small>
    </div>
    <label for="notes" class="form-label mt-3">Additional Notes</label>
    <textarea name="notes" id="notes" class="form-control" rows="5" formControlName="phone"></textarea>

    <div class="mt-3">
      <button class="btn btn-primary w-100" type="submit">send request</button>
    </div>
  </form>
</div>
